<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gité›†æˆæ¼”ç¤º - ç¬”è®°åº”ç”¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #fcfcfa;
            color: #2c3e50;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .demo-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .demo-section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 2px solid #e74c3c;
            padding-bottom: 10px;
        }

        .git-panel {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #e9ecef;
        }

        .git-status {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .branch-name {
            background: #28a745;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
        }

        .commit-count {
            background: #ffc107;
            color: #212529;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
        }

        .git-actions {
            display: flex;
            gap: 10px;
        }

        .git-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .git-btn.primary {
            background: #007bff;
            color: white;
        }

        .git-btn.primary:hover {
            background: #0056b3;
        }

        .git-btn.secondary {
            background: #6c757d;
            color: white;
        }

        .git-btn.secondary:hover {
            background: #545b62;
        }

        .git-btn.success {
            background: #28a745;
            color: white;
        }

        .git-btn.success:hover {
            background: #1e7e34;
        }

        .file-list {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #e9ecef;
        }

        .file-item:last-child {
            border-bottom: none;
        }

        .file-name {
            font-weight: 500;
            color: #495057;
        }

        .file-status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: 500;
        }

        .status-modified {
            background: #fff3cd;
            color: #856404;
        }

        .status-added {
            background: #d1ecf1;
            color: #0c5460;
        }

        .status-untracked {
            background: #f8d7da;
            color: #721c24;
        }

        .commit-form {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #495057;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 6px;
            font-size: 0.9em;
            font-family: inherit;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .commit-history {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
        }

        .commit-item {
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
            margin-bottom: 10px;
        }

        .commit-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .commit-hash {
            font-family: 'JetBrains Mono', monospace;
            color: #6c757d;
            font-size: 0.8em;
        }

        .commit-message {
            font-weight: 500;
            color: #495057;
            margin: 5px 0;
        }

        .commit-meta {
            font-size: 0.8em;
            color: #6c757d;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9em;
            overflow-x: auto;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .feature-card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .feature-icon {
            font-size: 2em;
            margin-bottom: 15px;
            color: #007bff;
        }

        .feature-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .feature-desc {
            color: #6c757d;
            font-size: 0.9em;
        }

        .alert {
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }

        .alert-info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        .alert-warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        @media (max-width: 768px) {
            .git-panel {
                flex-direction: column;
                gap: 15px;
            }

            .git-actions {
                flex-wrap: wrap;
                justify-content: center;
            }

            .feature-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ Gité›†æˆæ¼”ç¤º</h1>
            <p>åœ¨ç¬”è®°åº”ç”¨ä¸­é›†æˆGitç‰ˆæœ¬ç®¡ç†åŠŸèƒ½</p>
        </div>

        <div class="demo-section">
            <h2>ğŸ“‹ Gitæ“ä½œé¢æ¿</h2>
            
            <div class="git-panel">
                <div class="git-status">
                    <span class="branch-name">main</span>
                    <span class="commit-count">+3 -1</span>
                </div>
                <div class="git-actions">
                    <button class="git-btn primary" onclick="showCommitForm()">ğŸ“ æäº¤</button>
                    <button class="git-btn success" onclick="pushToGitHub()">ğŸš€ æ¨é€</button>
                    <button class="git-btn secondary" onclick="pullFromGitHub()">â¬‡ï¸ æ‹‰å–</button>
                    <button class="git-btn secondary" onclick="showHistory()">ğŸ“œ å†å²</button>
                </div>
            </div>

            <div class="file-list">
                <h3>ğŸ“ æ–‡ä»¶çŠ¶æ€</h3>
                <div class="file-item">
                    <span class="file-name">ç¬”è®°1.md</span>
                    <span class="file-status status-modified">å·²ä¿®æ”¹</span>
                </div>
                <div class="file-item">
                    <span class="file-name">ç¬”è®°2.md</span>
                    <span class="file-status status-added">å·²æ·»åŠ </span>
                </div>
                <div class="file-item">
                    <span class="file-name">æ–°ç¬”è®°.md</span>
                    <span class="file-status status-untracked">æœªè·Ÿè¸ª</span>
                </div>
            </div>

            <div id="commitForm" class="commit-form" style="display: none;">
                <h3>ğŸ“ æäº¤æ›´æ”¹</h3>
                <div class="form-group">
                    <label>æäº¤ä¿¡æ¯ï¼š</label>
                    <textarea id="commitMessage" placeholder="è¯·è¾“å…¥æäº¤ä¿¡æ¯...">æ›´æ–°ç¬”è®°å†…å®¹</textarea>
                </div>
                <div class="form-group">
                    <label>é€‰æ‹©æ–‡ä»¶ï¼š</label>
                    <div>
                        <input type="checkbox" id="file1" checked> <label for="file1">ç¬”è®°1.md</label><br>
                        <input type="checkbox" id="file2" checked> <label for="file2">ç¬”è®°2.md</label><br>
                        <input type="checkbox" id="file3"> <label for="file3">æ–°ç¬”è®°.md</label>
                    </div>
                </div>
                <button class="git-btn primary" onclick="commitChanges()">ç¡®è®¤æäº¤</button>
                <button class="git-btn secondary" onclick="hideCommitForm()">å–æ¶ˆ</button>
            </div>

            <div id="commitHistory" class="commit-history" style="display: none;">
                <h3>ğŸ“œ æäº¤å†å²</h3>
                <div class="commit-item">
                    <div class="commit-hash">a1b2c3d</div>
                    <div class="commit-message">æ›´æ–°ç¬”è®°å†…å®¹å’Œæ ¼å¼</div>
                    <div class="commit-meta">2024-01-15 14:30 by ç”¨æˆ·</div>
                </div>
                <div class="commit-item">
                    <div class="commit-hash">e4f5g6h</div>
                    <div class="commit-message">æ·»åŠ æ–°ç¬”è®°</div>
                    <div class="commit-meta">2024-01-15 13:45 by ç”¨æˆ·</div>
                </div>
                <div class="commit-item">
                    <div class="commit-hash">i7j8k9l</div>
                    <div class="commit-message">åˆå§‹åŒ–é¡¹ç›®</div>
                    <div class="commit-meta">2024-01-15 12:00 by ç”¨æˆ·</div>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2>ğŸ”§ æŠ€æœ¯å®ç°</h2>
            
            <div class="alert alert-info">
                <strong>ğŸ’¡ å®ç°æ–¹æ¡ˆï¼š</strong> ä½¿ç”¨ isomorphic-git åº“åœ¨æµè§ˆå™¨ä¸­å®ç°å®Œæ•´çš„GitåŠŸèƒ½
            </div>

            <h3>ğŸ“¦ æ ¸å¿ƒä¾èµ–</h3>
            <div class="code-block">
npm install isomorphic-git
npm install @octokit/rest
            </div>

            <h3>ğŸš€ åŸºç¡€Gitæ“ä½œ</h3>
            <div class="code-block">
// åˆå§‹åŒ–Gitä»“åº“
async function initGitRepo() {
  const fs = new IndexedDBFileSystem()
  await git.init({ fs, dir: '/notes-repo' })
}

// æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº
async function addToStaging(filePath) {
  await git.add({ fs, dir: '/notes-repo', filepath: filePath })
}

// æäº¤æ›´æ”¹
async function commitChanges(message) {
  const oid = await git.commit({
    fs,
    dir: '/notes-repo',
    message: message,
    author: {
      name: 'Note App User',
      email: 'user@example.com'
    }
  })
  return oid
}

// æ¨é€åˆ°GitHub
async function pushToGitHub(token, repoUrl) {
  await git.push({
    fs,
    dir: '/notes-repo',
    remote: 'origin',
    ref: 'main',
    token: token,
    http
  })
}
            </div>

            <h3>ğŸ”— GitHubé›†æˆ</h3>
            <div class="code-block">
// GitHub APIé›†æˆ
class GitHubIntegration {
  constructor(token) {
    this.octokit = new Octokit({ auth: token })
  }

  async createRepo(name, description) {
    return await this.octokit.rest.repos.createForAuthenticatedUser({
      name: name,
      description: description,
      private: false,
      auto_init: true
    })
  }

  async getRepos() {
    return await this.octokit.rest.repos.listForAuthenticatedUser()
  }
}
            </div>
        </div>

        <div class="demo-section">
            <h2>âœ¨ æ ¸å¿ƒåŠŸèƒ½</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“</div>
                    <div class="feature-title">ç‰ˆæœ¬æ§åˆ¶</div>
                    <div class="feature-desc">å®Œæ•´çš„Gitç‰ˆæœ¬ç®¡ç†ï¼Œæ”¯æŒæäº¤ã€åˆ†æ”¯ã€åˆå¹¶ç­‰æ“ä½œ</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">â˜ï¸</div>
                    <div class="feature-title">äº‘ç«¯åŒæ­¥</div>
                    <div class="feature-desc">ç›´æ¥æ¨é€åˆ°GitHubä»“åº“ï¼Œå®ç°äº‘ç«¯å¤‡ä»½å’Œåä½œ</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ“Š</div>
                    <div class="feature-title">å†å²è¿½è¸ª</div>
                    <div class="feature-desc">æŸ¥çœ‹å®Œæ•´çš„ä¿®æ”¹å†å²ï¼Œæ”¯æŒç‰ˆæœ¬å¯¹æ¯”å’Œå›æ»š</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ”’</div>
                    <div class="feature-title">æ•°æ®å®‰å…¨</div>
                    <div class="feature-desc">æœ¬åœ°Gitä»“åº“ + GitHubå¤‡ä»½ï¼Œå¤šé‡æ•°æ®ä¿æŠ¤</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">âš¡</div>
                    <div class="feature-title">é«˜æ€§èƒ½</div>
                    <div class="feature-desc">WebAssemblyå®ç°ï¼Œæµè§ˆå™¨åŸç”Ÿæ€§èƒ½</div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸŒ</div>
                    <div class="feature-title">ç¦»çº¿å·¥ä½œ</div>
                    <div class="feature-desc">æ”¯æŒç¦»çº¿Gitæ“ä½œï¼Œç½‘ç»œæ¢å¤åè‡ªåŠ¨åŒæ­¥</div>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2>âš ï¸ æ³¨æ„äº‹é¡¹</h2>
            
            <div class="alert alert-warning">
                <strong>ğŸ” å®‰å…¨æé†’ï¼š</strong> GitHub Tokenéœ€è¦å¦¥å–„ä¿ç®¡ï¼Œå»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å®‰å…¨çš„å­˜å‚¨æ–¹å¼
            </div>

            <ul style="padding-left: 20px; line-height: 2;">
                <li><strong>æµè§ˆå™¨å…¼å®¹æ€§ï¼š</strong> éœ€è¦ç°ä»£æµè§ˆå™¨æ”¯æŒWebAssembly</li>
                <li><strong>å­˜å‚¨é™åˆ¶ï¼š</strong> IndexedDBå­˜å‚¨ç©ºé—´æœ‰é™ï¼Œå¤§æ–‡ä»¶éœ€è¦åˆ†å—å¤„ç†</li>
                <li><strong>ç½‘ç»œä¾èµ–ï¼š</strong> æ¨é€/æ‹‰å–æ“ä½œéœ€è¦ç½‘ç»œè¿æ¥</li>
                <li><strong>æ€§èƒ½è€ƒè™‘ï¼š</strong> å¤§é‡æ–‡ä»¶æ“ä½œå¯èƒ½å½±å“æ€§èƒ½</li>
                <li><strong>ç”¨æˆ·ä½“éªŒï¼š</strong> éœ€è¦ç®€åŒ–Gitæ“ä½œï¼Œé¿å…å¤æ‚çš„å·¥ä½œæµ</li>
            </ul>
        </div>
    </div>

    <script>
        // æ¼”ç¤ºåŠŸèƒ½
        function showCommitForm() {
            document.getElementById('commitForm').style.display = 'block';
            document.getElementById('commitHistory').style.display = 'none';
        }

        function hideCommitForm() {
            document.getElementById('commitForm').style.display = 'none';
        }

        function showHistory() {
            document.getElementById('commitHistory').style.display = 'block';
            document.getElementById('commitForm').style.display = 'none';
        }

        function commitChanges() {
            const message = document.getElementById('commitMessage').value;
            if (!message.trim()) {
                alert('è¯·è¾“å…¥æäº¤ä¿¡æ¯');
                return;
            }
            
            alert(`æäº¤æˆåŠŸï¼\næäº¤ä¿¡æ¯ï¼š${message}`);
            hideCommitForm();
            
            // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
            document.querySelector('.commit-count').textContent = '0 0';
        }

        function pushToGitHub() {
            alert('ğŸš€ æ¨é€åˆ°GitHubæˆåŠŸï¼\næ‚¨çš„ç¬”è®°å·²åŒæ­¥åˆ°äº‘ç«¯ä»“åº“ã€‚');
        }

        function pullFromGitHub() {
            alert('â¬‡ï¸ ä»GitHubæ‹‰å–æˆåŠŸï¼\nå·²è·å–æœ€æ–°çš„äº‘ç«¯æ›´æ”¹ã€‚');
        }

        // æ¨¡æ‹ŸGitçŠ¶æ€æ›´æ–°
        setInterval(() => {
            const count = Math.floor(Math.random() * 5);
            if (count > 0) {
                document.querySelector('.commit-count').textContent = `+${count} -0`;
            }
        }, 10000);
    </script>
</body>
</html>
